<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Template Tutorial | ApiGear</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Product documentation for ApiGear.io">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.e98b764f.js" as="script"><link rel="preload" href="/assets/js/2.179ded00.js" as="script"><link rel="preload" href="/assets/js/13.c4b8baf1.js" as="script"><link rel="prefetch" href="/assets/js/10.558acead.js"><link rel="prefetch" href="/assets/js/11.e225714e.js"><link rel="prefetch" href="/assets/js/12.ec9cb783.js"><link rel="prefetch" href="/assets/js/14.17989361.js"><link rel="prefetch" href="/assets/js/15.a81d012d.js"><link rel="prefetch" href="/assets/js/16.ed3edd5d.js"><link rel="prefetch" href="/assets/js/17.ea33b044.js"><link rel="prefetch" href="/assets/js/18.5e5dddf5.js"><link rel="prefetch" href="/assets/js/19.5b50f90f.js"><link rel="prefetch" href="/assets/js/20.88b729be.js"><link rel="prefetch" href="/assets/js/21.547f89f5.js"><link rel="prefetch" href="/assets/js/22.c04e626e.js"><link rel="prefetch" href="/assets/js/23.88990eea.js"><link rel="prefetch" href="/assets/js/24.c2e11447.js"><link rel="prefetch" href="/assets/js/25.a5ba9dfb.js"><link rel="prefetch" href="/assets/js/26.a455094f.js"><link rel="prefetch" href="/assets/js/27.2b5f1164.js"><link rel="prefetch" href="/assets/js/28.ef14575a.js"><link rel="prefetch" href="/assets/js/29.4eff8b65.js"><link rel="prefetch" href="/assets/js/3.b6f22b97.js"><link rel="prefetch" href="/assets/js/30.c710be36.js"><link rel="prefetch" href="/assets/js/31.3a7b891f.js"><link rel="prefetch" href="/assets/js/32.eaf6bc13.js"><link rel="prefetch" href="/assets/js/33.a20ec5ae.js"><link rel="prefetch" href="/assets/js/34.2fc30015.js"><link rel="prefetch" href="/assets/js/35.95bf8dc7.js"><link rel="prefetch" href="/assets/js/36.a72af7b4.js"><link rel="prefetch" href="/assets/js/37.c14957c3.js"><link rel="prefetch" href="/assets/js/38.39374075.js"><link rel="prefetch" href="/assets/js/39.683266e7.js"><link rel="prefetch" href="/assets/js/4.ed8f2e2d.js"><link rel="prefetch" href="/assets/js/40.810c8cbe.js"><link rel="prefetch" href="/assets/js/41.34432550.js"><link rel="prefetch" href="/assets/js/42.4f7ed425.js"><link rel="prefetch" href="/assets/js/5.965d8b2b.js"><link rel="prefetch" href="/assets/js/6.1c1e44cf.js"><link rel="prefetch" href="/assets/js/7.e5ee2ad3.js"><link rel="prefetch" href="/assets/js/8.0142bd99.js"><link rel="prefetch" href="/assets/js/9.75ebcf75.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ApiGear</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learning" class="dropdown-title"><span class="title">Learning</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learning" class="mobile-dropdown-title"><span class="title">Learning</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">
  Getting Started
</a></li><li class="dropdown-item"><!----> <a href="/tutorials/" class="nav-link">
  Tutorials
</a></li><li class="dropdown-item"><!----> <a href="/objectapi/" class="nav-link">
  ObjectAPI Specification
</a></li><li class="dropdown-item"><!----> <a href="/mappings/" class="nav-link">
  ObjectAPI Mappings
</a></li><li class="dropdown-item"><!----> <a href="/objectlink/" class="nav-link">
  ObjectLink Specification
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tooling" class="dropdown-title"><span class="title">Tooling</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tooling" class="mobile-dropdown-title"><span class="title">Tooling</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/studio/" class="nav-link">
  Desktop Studio
</a></li><li class="dropdown-item"><!----> <a href="/simulation/" class="nav-link">
  Simulation
</a></li><li class="dropdown-item"><!----> <a href="/monitor/" class="nav-link">
  Monitoring
</a></li><li class="dropdown-item"><!----> <a href="/maker/" class="nav-link router-link-active">
  Maker
</a></li><li class="dropdown-item"><!----> <a href="/sdks/" class="nav-link">
  Templates
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/apigear-io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/orgs/apigear-io/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discussion
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><span class="title">About</span> <span class="arrow down"></span></button> <button type="button" aria-label="About" class="mobile-dropdown-title"><span class="title">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">
  About
</a></li><li class="dropdown-item"><!----> <a href="https://apigear.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ApiGear
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/apigear-io/apigear-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learning" class="dropdown-title"><span class="title">Learning</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learning" class="mobile-dropdown-title"><span class="title">Learning</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">
  Getting Started
</a></li><li class="dropdown-item"><!----> <a href="/tutorials/" class="nav-link">
  Tutorials
</a></li><li class="dropdown-item"><!----> <a href="/objectapi/" class="nav-link">
  ObjectAPI Specification
</a></li><li class="dropdown-item"><!----> <a href="/mappings/" class="nav-link">
  ObjectAPI Mappings
</a></li><li class="dropdown-item"><!----> <a href="/objectlink/" class="nav-link">
  ObjectLink Specification
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tooling" class="dropdown-title"><span class="title">Tooling</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tooling" class="mobile-dropdown-title"><span class="title">Tooling</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/studio/" class="nav-link">
  Desktop Studio
</a></li><li class="dropdown-item"><!----> <a href="/simulation/" class="nav-link">
  Simulation
</a></li><li class="dropdown-item"><!----> <a href="/monitor/" class="nav-link">
  Monitoring
</a></li><li class="dropdown-item"><!----> <a href="/maker/" class="nav-link router-link-active">
  Maker
</a></li><li class="dropdown-item"><!----> <a href="/sdks/" class="nav-link">
  Templates
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/apigear-io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/orgs/apigear-io/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discussion
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><span class="title">About</span> <span class="arrow down"></span></button> <button type="button" aria-label="About" class="mobile-dropdown-title"><span class="title">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">
  About
</a></li><li class="dropdown-item"><!----> <a href="https://apigear.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ApiGear
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/apigear-io/apigear-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Maker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/maker/" aria-current="page" class="sidebar-link">Custom Templates</a></li><li><a href="/maker/tutorial.html" aria-current="page" class="active sidebar-link">Template Tutorial</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/maker/tutorial.html#creating-a-template" class="sidebar-link">Creating a template</a></li><li class="sidebar-sub-header"><a href="/maker/tutorial.html#create-api-project" class="sidebar-link">Create API Project</a></li><li class="sidebar-sub-header"><a href="/maker/tutorial.html#demo-goal" class="sidebar-link">Demo Goal</a></li><li class="sidebar-sub-header"><a href="/maker/tutorial.html#typescript-template" class="sidebar-link">Typescript Template</a></li><li class="sidebar-sub-header"><a href="/maker/tutorial.html#filling-in-the-details" class="sidebar-link">Filling in the details</a></li><li class="sidebar-sub-header"><a href="/maker/tutorial.html#packaging" class="sidebar-link">Packaging</a></li><li class="sidebar-sub-header"><a href="/maker/tutorial.html#next-steps" class="sidebar-link">Next Steps</a></li></ul></li><li><a href="/maker/filters.html" class="sidebar-link">Filter Reference</a></li><li><a href="/maker/symbols.html" class="sidebar-link">Symbol Reference</a></li><li><a href="/maker/rules.html" class="sidebar-link">Rules Document</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="template-tutorial"><a href="#template-tutorial" class="header-anchor">#</a> Template Tutorial</h1> <p>A template is a technology template to transform the ObjectAPI in any kind and amount of other text documents, e.g. source code. It consist of a set of rules and template documents.</p> <p>The best way to create a new template template is to create an external template folder and link it up to an ApiGear Studio API project using an API module and a solution.</p> <p>The goal of this tutorial is to create a template which generates a typescript interface from an API document. For this we use an demo API which like this:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># demo.module.yaml</span>
<span class="token key atrule">schema</span><span class="token punctuation">:</span> <span class="token string">&quot;apigear.module/1.0&quot;</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> demo
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;0.1&quot;</span>

<span class="token key atrule">interfaces</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Counter
    <span class="token key atrule">properties</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> count
        <span class="token key atrule">type</span><span class="token punctuation">:</span> int
    <span class="token key atrule">operations</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> increment
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> decrement
</code></pre></div><p>The API shall be transformed into a typescript interface which will finally be like this:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// demo.ts</span>
<span class="token keyword">interface</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> int<span class="token punctuation">;</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="creating-a-template"><a href="#creating-a-template" class="header-anchor">#</a> Creating a template</h2> <p>First we create a new template by creating a folder and placing a rules document at the root folder and an empty template document inside a templates folder.</p> <p>The folder structure will look like this.</p> <div class="language- extra-class"><pre class="language-text"><code>myproject/
  rules.yaml
  templates/
    module.ts.liquid
</code></pre></div><p>The rules document defines which documents are written based on which API symbols, in our case the <code>module</code> symbol, as we want to create one typescript document per module. The source document is a liquid template document and the target document is a text document, where the target name can also be a template string.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># rules.yaml</span>
<span class="token key atrule">features</span><span class="token punctuation">:</span>
  <span class="token key atrule">default</span><span class="token punctuation">:</span>
    <span class="token key atrule">module</span><span class="token punctuation">:</span>
      <span class="token key atrule">documents</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">source</span><span class="token punctuation">:</span> module.ts.liquid
          <span class="token key atrule">target</span><span class="token punctuation">:</span> <span class="token string">&quot;{{ module.name | lower }}.ts&quot;</span>
</code></pre></div><p>The <code>module.ts.liquid</code> file inside the template folder can be empty initially, we fill it up later.</p> <p>Now our basic template project is ready, it's time to link it up with an ApiGear Studio API project.</p> <h2 id="create-api-project"><a href="#create-api-project" class="header-anchor">#</a> Create API Project</h2> <p>Open ApiGear Studio and add an API project to the <code>myproject</code> folder. This will create an <code>apigear</code> folder to the project.</p> <p>From within ApiGear Studio create an API module named <code>demo</code> which will act as our test API.</p> <p>Copy our demo API into the API document.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># demo.module.yaml</span>
<span class="token key atrule">schema</span><span class="token punctuation">:</span> <span class="token string">&quot;apigear.module/1.0&quot;</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> demo
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;0.1&quot;</span>

<span class="token key atrule">interfaces</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Counter
    <span class="token key atrule">properties</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> count
        <span class="token key atrule">type</span><span class="token punctuation">:</span> int
    <span class="token key atrule">operations</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> increment
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> decrement
</code></pre></div><p>The demo API now needs to be linked to the template rules document. This is done from within a solution document, which links API modules to templates.</p> <p>Open ApiGear Studio and create a solution document also called <code>demo</code>, and the content should look like this.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># demo.solution.yaml</span>
<span class="token key atrule">schema</span><span class="token punctuation">:</span> <span class="token string">&quot;apigear.solution/1.0&quot;</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> demo
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;0.1&quot;</span>

<span class="token key atrule">layers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> demo
    <span class="token key atrule">output</span><span class="token punctuation">:</span> ../ouput
    <span class="token key atrule">modules</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> demo.module.yaml
    <span class="token key atrule">blueprint</span><span class="token punctuation">:</span>
      <span class="token key atrule">package</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token key atrule">rules</span><span class="token punctuation">:</span> ../rules.yaml
      <span class="token key atrule">features</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> all
</code></pre></div><p>This will first parse all defined modules (demo) and apply the given template to the modules. The documents will then be written relative to the given output directory.</p> <p>Your project should look like this now:</p> <div class="language- extra-class"><pre class="language-text"><code>myproject/
  apigear/
    demo.module.yaml
    demo.solution.yaml
  rules.yaml
  templates/
    module.ts.liquid
</code></pre></div><p>When you now run the solution it will create an empty <code>output/demo.ts</code> document inside the project directory.</p> <p>Now we have a basic setup ready.</p> <h2 id="demo-goal"><a href="#demo-goal" class="header-anchor">#</a> Demo Goal</h2> <p>Remember we want to create an interface for each interface inside an API module. For our demo API the resulting typescript shall look like this:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// demo.ts</span>
<span class="token keyword">interface</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> int<span class="token punctuation">;</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This defines a standalone typescript interface to be usable in your applications.</p> <p>The rules document already takes care that for each API module one typescript document is created, based on the module name. Now we need to fill in the content of the typescript code.</p> <h2 id="typescript-template"><a href="#typescript-template" class="header-anchor">#</a> Typescript Template</h2> <p>Inside our <code>module.ts.liquid</code> template document each interface in the module shall be an typescript interface.
This can be accomplished with the for-loop from the liquidjs template engine.</p> <div class="language-liquid extra-class"><pre class="language-liquid"><code><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> interface <span class="token keyword">in</span> module<span class="token punctuation">.</span>interfaces <span class="token delimiter punctuation">%}</span></span>
interface <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> interface<span class="token punctuation">.</span>name <span class="token delimiter punctuation">}}</span></span> {

}
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div><p>After updating the <code>module.ts.liquid</code> with the above content, we can run the solution. This will rewrite the target document with the content of the typescript template.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="filling-in-the-details"><a href="#filling-in-the-details" class="header-anchor">#</a> Filling in the details</h2> <p>There are still the properties and operations missing from the source code. We can add them into the template using another for loop, which iterate over the properties and operations from the interface.</p> <div class="language-liquid extra-class"><pre class="language-liquid"><code><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> interface <span class="token keyword">in</span> module<span class="token punctuation">.</span>interfaces <span class="token delimiter punctuation">%}</span></span>
interface <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> interface<span class="token punctuation">.</span>name <span class="token delimiter punctuation">}}</span></span> {
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> property <span class="token keyword">in</span> interface<span class="token punctuation">.</span>properties <span class="token delimiter punctuation">%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> property<span class="token punctuation">.</span>name <span class="token delimiter punctuation">}}</span></span>: <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> property <span class="token operator">|</span> <span class="token function filter">tsReturn</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> operation <span class="token keyword">in</span> interface<span class="token punctuation">.</span>operations <span class="token delimiter punctuation">%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> operation<span class="token punctuation">.</span>name <span class="token delimiter punctuation">}}</span></span>() <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> operation <span class="token operator">|</span> <span class="token function filter">tsReturn</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
}
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div><p>This will already add the properties and some simple operations to the source code. After running the solution we will see the update source code.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// demo.ts</span>
<span class="token keyword">interface</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> int<span class="token punctuation">;</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>So great. Are we finished? The mindful reader already figured out that the operation parameters are missing. To demonstrate this we will add steps parameters to the increment and decrement operations.</p> <p>We first update our API demo module (<code>demo.module.yaml</code>) adding parameters to the operations like this:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">operations</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> increment
    <span class="token key atrule">params</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> step
        <span class="token key atrule">type</span><span class="token punctuation">:</span> int
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> decrement
    <span class="token key atrule">params</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> step
        <span class="token key atrule">type</span><span class="token punctuation">:</span> int
</code></pre></div><p>If you would run the solution again you would no see a change as we currently not handle these parameters. We need to update the template document (<code>module.ts.liquid</code>) first to handle the parameters using the params filter.</p> <div class="language-liquid extra-class"><pre class="language-liquid"><code><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> operation <span class="token keyword">in</span> interface<span class="token punctuation">.</span>operations <span class="token delimiter punctuation">%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> operation<span class="token punctuation">.</span>name <span class="token delimiter punctuation">}}</span></span>(<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> operation <span class="token operator">|</span> <span class="token function filter">tsParams</span> <span class="token delimiter punctuation">}}</span></span>) <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> operation <span class="token operator">|</span> <span class="token function filter">tsReturn</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div><p>Now running the solution again will update the typescript source code to the final result:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// demo.ts</span>
<span class="token keyword">interface</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> int<span class="token punctuation">;</span>
  <span class="token function">increment</span><span class="token punctuation">(</span>step<span class="token operator">:</span> int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">decrement</span><span class="token punctuation">(</span>step<span class="token operator">:</span> int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This shows how easy it is to create an own template solution for a supported technology.</p> <h2 id="packaging"><a href="#packaging" class="header-anchor">#</a> Packaging</h2> <p>It is also possible to create a template package for distribution. For this we use <a href="https://docs.npmjs.com/cli/v7/commands/npm" target="_blank" rel="noopener noreferrer">npm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to create a package.</p> <p>To create a package run <code>npm init --yes</code>, this will create a <code>package.json</code> document in the current directory.</p> <p>The package document needs to know which files to package, for this we add a files section to the document.</p> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;/templates&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/rules.yaml&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/README.md&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/LICENSE.txt&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>Now you can run <code>npm pack</code> to create an NPM package which then can be distributed.</p> <p>This package can then be shared with other users. Inside ApiGear Studio you can install a template package using the upload button.</p> <p>In the future it will be possible to upload a template package to our central registry and be available to all users.</p> <h2 id="next-steps"><a href="#next-steps" class="header-anchor">#</a> Next Steps</h2> <p>This simple demo shows the workflow of creating technology templates using ApiGear Studio.</p> <p>ApiGear support several programming languages and technologies, such as Python, C++, TypeScript, Go and others and is able to create complex solutions for almost every application.</p> <p>ApiGear comes with several advanced technology templates which provides solutions for the most common problems. IN case the provides solutions do not fit your needs ApiGear is designed to allow quick adoptions of the underlying technology templates.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apigear-io/apigear-docs/edit/main/docs/maker/tutorial.md" target="_blank" rel="noopener noreferrer">Contribute</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/19/2022, 3:48:27 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/maker/" class="prev router-link-active">
        Custom Templates
      </a></span> <span class="next"><a href="/maker/filters.html">
        Filter Reference
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e98b764f.js" defer></script><script src="/assets/js/2.179ded00.js" defer></script><script src="/assets/js/13.c4b8baf1.js" defer></script>
  </body>
</html>
