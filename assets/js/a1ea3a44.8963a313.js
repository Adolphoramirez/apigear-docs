"use strict";(self.webpackChunkapigear=self.webpackChunkapigear||[]).push([[7722],{3905:(e,n,a)=>{a.d(n,{Zo:()=>c,kt:()=>f});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=t.createContext({}),p=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},c=function(e){var n=p(e.components);return t.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,f=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return a?t.createElement(f,o(o({ref:n},c),{},{components:a})):t.createElement(f,o({ref:n},c))}));function f(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9157:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var t=a(7462),r=(a(7294),a(3905));const i={sidebar_position:3},o="API Modules",s={unversionedId:"advanced/objectapi/modules",id:"advanced/objectapi/modules",title:"API Modules",description:"Module Namespaces",source:"@site/docs/advanced/objectapi/modules.md",sourceDirName:"advanced/objectapi",slug:"/advanced/objectapi/modules",permalink:"/docs/advanced/objectapi/modules",draft:!1,editUrl:"https://github.com/apigear-io/apigear-docs/edit/main/docs/advanced/objectapi/modules.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"API Foundation",permalink:"/docs/advanced/objectapi/core"},next:{title:"Advanced Concepts",permalink:"/docs/advanced/objectapi/advanced"}},l={},p=[{value:"Module Namespaces",id:"module-namespaces",level:2},{value:"Interfaces",id:"interfaces",level:2},{value:"Object state",id:"object-state",level:3},{value:"Operation",id:"operation",level:3},{value:"Signals",id:"signals",level:3},{value:"Data Structures",id:"data-structures",level:2},{value:"Enumerations",id:"enumerations",level:2}],c={toc:p};function d(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"api-modules"},"API Modules"),(0,r.kt)("h2",{id:"module-namespaces"},"Module Namespaces"),(0,r.kt)("p",null,"A module is a namespace for ObjectAPI symbols like interfaces, structures and enumerations. The module bundles these symbols together in one namespace."),(0,r.kt)("p",null,"A module is identified by its ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"version"),". The module name should be typically lowercase and words separated by ",(0,r.kt)("inlineCode",{parentName:"p"},"."),", like a reverse URI notation ",(0,r.kt)("inlineCode",{parentName:"p"},"org.example"),"."),(0,r.kt)("p",null,"A module can have an additional ",(0,r.kt)("inlineCode",{parentName:"p"},"info")," block to describe in more detailed the module information."),(0,r.kt)("p",null,"Typically a module consist of the ",(0,r.kt)("inlineCode",{parentName:"p"},"apigear.interfaces")," version declaration, the module name and version, the list of interfaces, structures and signals."),(0,r.kt)("p",null,"The version number must be written as a string, otherwise it wil be converted to a numeric value (e.g. 1 for 1.0)."),(0,r.kt)("p",null,"Only ObjectAPI, name, version are mandatory. The other identifiers are optional."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'schema: apigear.module/1.0\nname: org.example\nversion: "1.0"\ninterfaces:\nstructs:\nenums:\n')),(0,r.kt)("h2",{id:"interfaces"},"Interfaces"),(0,r.kt)("p",null,"An interface is the main instance to describe your software boundary using interface terms. The interface consist of state, operation and signals. The state is typically describe a a set of properties of the interface and operations modify the interface state. Signals notify the user of changes of the interface."),(0,r.kt)("p",null,"The interface itself is identified by its ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," inside a module."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'schema: apigear.module/1.0\nname: "org.example"\nversion: "1.0"\n\ninterfaces:\n  - name: MyInterface\n')),(0,r.kt)("h3",{id:"object-state"},"Object state"),(0,r.kt)("p",null,"Each property has a ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," and a ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," as also ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," and additional ",(0,r.kt)("inlineCode",{parentName:"p"},"meta")," data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\ninterfaces:\n  - name: MyInterface\n    properties:\n      - name: value\n        type: int\n")),(0,r.kt)("h3",{id:"operation"},"Operation"),(0,r.kt)("p",null,"A operation defines the interaction with the interface. It is a collection of operations which can either manipulate the properties or return data."),(0,r.kt)("p",null,"Ideally you design your operations in a way that they can be divided into commands and queries. A command is an operation which does something on the interface and a query collects data from the interface and returns it to the user."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\ninterfaces:\n  - name: MyInterface\n    operations:\n      - name: command\n        description: A command does not have a return type\n      - name: query\n        type: string\n        description: A query returns data\n")),(0,r.kt)("p",null,"Operation can have parameter arguments"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\ninterfaces:\n  - name: MyInterface\n    operations:\n      - name: command\n        params:\n          - name: step\n            type: int\n        return:\n          type: int\n")),(0,r.kt)("p",null,"The arguments do parameterize the operation."),(0,r.kt)("h3",{id:"signals"},"Signals"),(0,r.kt)("p",null,"A signal allows the interface to notify the outside world about events happening, e.g. triggered by others. A signal is like an operation, but never defines a type."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\ninterfaces:\n  - name: MyInterface\n    signals:\n      - name: error\n        params:\n          - name: code\n            type: int\n")),(0,r.kt)("h2",{id:"data-structures"},"Data Structures"),(0,r.kt)("p",null,"A structure represents a data structure which can be used for communication. The structure consists of a ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," and a set of data fields. Each field again has a ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," and a ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," information."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\nstructs:\n  - name: Message\n    fields:\n      - name: msg\n        type: string\n")),(0,r.kt)("p",null,"A data structure does not contain any operations or signals. A data structure is typically used as a type for properties, operation parameters and others."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\ninterfaces:\n  - name: MessageSender\n    properties:\n      - name: lastMessage\n        type: Message\n    operations:\n      - name: send\n        params:\n          - name: msg\n            type: Message\n")),(0,r.kt)("p",null,"Data structure can be identified just be identified its name."),(0,r.kt)("p",null,"Data structures can be nested by using the type name of the nested type. In some programming languages care needs to be taken by the order of declaration."),(0,r.kt)("h2",{id:"enumerations"},"Enumerations"),(0,r.kt)("p",null,"Enumerations and Flags are value types, which allow a user to use a defined number of choices to identify a value."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"enums:\n  - name: Status\n    members:\n      - name: None\n        value: 0\n      - name: Loading\n        value: 1\n      - name: Ready\n        value: 2\n      - name: Error\n        value: 3\n")),(0,r.kt)("p",null,"The values are optional and when missing the value is counted incrementally from 0 on upwards."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"enums:\n  - name: Status\n    members:\n      - name: None\n      - name: Loading\n      - name: Ready\n      - name: Error\n")),(0,r.kt)("p",null,"An enumeration is also a symbol and can be used by its name to identify its type."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"# ...\ninterfaces:\n  - name: MyInterface\n    properties:\n      - name: status\n        type: Status # references the Status enumeration\n")))}d.isMDXComponent=!0}}]);