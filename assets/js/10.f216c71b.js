(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{282:function(t,e,a){"use strict";a.r(e);var s=a(10),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"custom-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-templates"}},[t._v("#")]),t._v(" Custom Templates")]),t._v(" "),a("p",[t._v("ApiGear offers a large set of pre-made technology templates covering the major programming languages and technologies.\nBut often a project requires some adaptations to the templates or require support for a different technology which is not yet covered.")]),t._v(" "),a("p",[t._v("ApiGear was designed to allow customers easily to adapt the existing templates for the specifics of each customer project.")]),t._v(" "),a("p",[t._v("Customers can provide their own technology templates, either as open source or proprietary templates.")]),t._v(" "),a("p",[t._v("The process to adapt an existing template or to create a fresh new template is not really difficult and will be covered here.")]),t._v(" "),a("h2",{attrs:{id:"maker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maker"}},[t._v("#")]),t._v(" Maker")]),t._v(" "),a("p",[t._v("A user which creates templates is called a maker. Normally is is possible to contribute to existing templates to enhance in an open discussion the quality for everyone. But often there is also a desire to solve a new problem or to create a project specific adaptation. In these cases it makes sense to fork a template or to create a new template.")]),t._v(" "),a("p",[t._v("templates allows you to solve all kind of API structured problems in a very easy way.")]),t._v(" "),a("h2",{attrs:{id:"creating-a-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-template"}},[t._v("#")]),t._v(" Creating a template")]),t._v(" "),a("p",[t._v("A template is a folder with a common structure consisting of a rules document, which controls the code generation process and the templates folder. The templates will be listed inside a rules document. Later a solution document will link the template with API modules for code generation.")]),t._v(" "),a("p",[t._v("Below is roughly the process to create and develop a template")]),t._v(" "),a("ul",[a("li",[t._v("Create a template folder with rules document and templates folder")]),t._v(" "),a("li",[t._v("Create an ApiGear Studio API project with a demo API")]),t._v(" "),a("li",[t._v("Add a solution to the API project to link API modules with the template")]),t._v(" "),a("li",[t._v("Edit the template and re-generate the output")])]),t._v(" "),a("p",[t._v("The templates are written using the "),a("a",{attrs:{href:"https://liquidjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("liquidjs"),a("OutboundLink")],1),t._v(" template language and each template should end with "),a("code",[t._v(".liquid")]),t._v(". ApiGear extends the template language by custom programming language specific filters to ease many complex tasks. To read more about LiquidJS visit their "),a("a",{attrs:{href:"https://liquidjs.com/tags/overview.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("tags"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://liquidjs.com/filters/overview.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("filter"),a("OutboundLink")],1),t._v(" documentation.")]),t._v(" "),a("p",[a("em",[t._v("Note: Visual Studio Code marketplace provides an extension to support the "),a("code",[t._v(".liquid")]),t._v(" files, you can find it "),a("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=sissel.shopify-liquid",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"your-first-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#your-first-template"}},[t._v("#")]),t._v(" Your first template")]),t._v(" "),a("p",[t._v("A typical template folder structure looks like this")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("first/\n    rules.yaml\n    templates/welcome.txt.liquid\n")])])]),a("p",[t._v("The rules document is a YAML document and lists all template file and how they shall be written inside the output folder. A simple rules document could look like this:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("features")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("system")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" welcome.txt.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" welcome.txt\n")])])]),a("p",[t._v("The first level (here "),a("code",[t._v("default")]),t._v(") defines a feature. This can be enabled or disabled using the feature settings for the code generator.\nThe next level (here "),a("code",[t._v("system")]),t._v(") defines to which symbol is shall be applied. A symbol is a defined location inside the API description.")]),t._v(" "),a("p",[t._v("Inside an API there exists the following symbols:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("system")]),t._v(": will be applied once for the root level system")]),t._v(" "),a("li",[a("code",[t._v("module")]),t._v(": will be applied for each module in the system")]),t._v(" "),a("li",[a("code",[t._v("interface")]),t._v(": will be is applied for each interface inside the module")]),t._v(" "),a("li",[a("code",[t._v("struct")]),t._v(": will be is applied for each struct inside the module")]),t._v(" "),a("li",[a("code",[t._v("enum")]),t._v(": will be is applied for each enum inside the module")])]),t._v(" "),a("p",[t._v("For each of these symbols inside the API description the target documents are written based on the source template.")]),t._v(" "),a("p",[t._v("You could think of the underlying logic of a rules document like this (using a python pseudo-code):")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("system "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nwrite_system_documents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" module "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" system"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    write_module_documents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" interface "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interfaces"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        write_interface_documents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" struct "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("structs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        write_struct_documents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" enum "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        write_enum_documents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Here is a more elaborate example of a rules document:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rules.yaml")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("features")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("system")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" system.md.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" system.md\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" module.md.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("module.name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".md\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" interface.md.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("interface.name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".md\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("struct")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" struct.md.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("struct.name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".md\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" enum.md.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("enum.name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".md\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("summary")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("system")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" summary.md.liquid\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" summary.md\n")])])]),a("p",[t._v("The "),a("code",{pre:!0},[t._v("{{ }}")]),t._v(" are a template expression. For example "),a("code",{pre:!0},[t._v("{{module.name}}")]),t._v(" will be replaced with the content of "),a("code",[t._v("module.name")]),t._v(". This allows you to write exactly these document names you require.")]),t._v(" "),a("p",[t._v("Additional to the template tags, the template engine also support filters. A filter is a function which takes a object and return a string. For example "),a("code",{pre:!0},[t._v("{{ module.name | lower }}")]),t._v(" will lower case the module name. There are more filters in the "),a("a",{attrs:{href:"https://liquidjs.com/filters/overview.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("template engine documentation"),a("OutboundLink")],1),t._v(" and ApiGear also adds many different code specific filters to the engine.")])])}),[],!1,null,null,null);e.default=n.exports}}]);